<!DOCTYPE html>
<html lang="default">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Some reasons why Python isn't as elegant as you thought"/>








  <link rel="alternate" href="/default" title="albertnetymk's notes" >




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=1.2" />



<link rel="canonical" href="https://albertnetymk.github.io/2014/05/23/python/"/>


<meta name="description" content="Came to know Python via the famous article by Eric, where he recommended Python as the first language for programmers. I followed the doc from official website of Python, but the overall experience wa">
<meta property="og:type" content="article">
<meta property="og:title" content="Some reasons why Python isn&#39;t as elegant as you thought">
<meta property="og:url" content="https://albertnetymk.github.io/2014/05/23/python/index.html">
<meta property="og:site_name" content="albertnetymk&#39;s notes">
<meta property="og:description" content="Came to know Python via the famous article by Eric, where he recommended Python as the first language for programmers. I followed the doc from official website of Python, but the overall experience wa">
<meta property="og:locale">
<meta property="article:published_time" content="2014-05-23T17:16:51.000Z">
<meta property="article:modified_time" content="2019-11-02T16:14:10.939Z">
<meta property="article:author" content="Albert Netymk">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2" />
<link href='https://fonts.googleapis.com/css2?family=Roboto&display=swap' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  


  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "mi8jxzrmvj");
  </script>





    <title> Some reasons why Python isn't as elegant as you thought - albertnetymk's notes </title>
  <meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">albertnetymk's notes</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/presentations">
                            
                            
                                Presentations
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/courses">
                            
                            
                                Courses
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Some reasons why Python isn't as elegant as you thought
        
      </h1>

      <time class="post-time">
          May 23 2014
      </time>
    </header>

    <div class="post-content">
    <p>Came to know Python via the famous
<a target="_blank" rel="noopener" href="http://www.catb.org/esr/faqs/hacker-howto.html">article</a> by Eric, where he
recommended Python as the first language for programmers. I followed the doc
from official website of Python, but the overall experience was not so
satisfying. (Not exactly sure why.) I didn’t pursue this language too much
afterwards, and the reason I told myself is that redundancy in this language,
namely the <code>:</code> for introducing one block and the indentation inside one block.
CoffeeScript is one example that removes this redundancy.</p>
<p>Someone may call this nitpicking, so more reasons are required to show Python is
the not as intuitive as one thinks. Luckily, I came across this
<a target="_blank" rel="noopener" href="http://www.toptal.com/python/top-10-mistakes-that-python-programmers-make">article</a>
recently.</p>
<p>Among the ten mistakes, only three are language (syntax) related, which do not
have very intuitive semantics. Therefore, one get surprising outcome. The rest
are problems existing in practice. (As one theorist, I don’t deal with problems
in reality.)</p>
<ul>
<li>
<p>OOP related. (#2 Using class variables incorrectly) It feels weird to use OOP
in one scripting language, so I will skip this category.</p>
</li>
<li>
<p>Exception related. (#3 Specifying parameters incorrectly for an exception
block) Exceptions maybe very useful in production code, but I have never
written any production code, so I can’t comment on this category.</p>
</li>
<li>
<p>Programmer related. (#5 Modifying a list while iterating over it #7 Creating
circular module dependencies) It’s just wrong in any languages, so what I can
say…</p>
</li>
<li>
<p>Module related. (#8 Name clashing with Python Standard Library modules)</p>
</li>
<li>
<p>Compatibility related. (#9 Failing to address differences between Python2 and
Python3)</p>
</li>
<li>
<p>Hidden stuff related. (#10 Misusing the <code>__del__</code> method) I guess it’s not
meant to be used, for it has this weird prefix.</p>
</li>
</ul>
<h2 id="function-default-arguments"><a class="header-anchor" href="#function-default-arguments">§</a>function default arguments</h2>
<p>Personally, I expect the code does what it seems to do, but I am wrong for
Python. (I didn’t even bother myself to find out the “why” for Python.)</p>
<pre><code>def foo (bar = [])
    bar.append(&quot;baz&quot;)
    return bar
</code></pre>
<p>Running above Python program in the repl:</p>
<pre><code>&gt;&gt;&gt; foo()
[&quot;baz&quot;]
&gt;&gt;&gt; foo()
[&quot;baz&quot;, &quot;baz&quot;]
&gt;&gt;&gt; foo()
[&quot;baz&quot;, &quot;baz&quot;, &quot;baz&quot;]
</code></pre>
<p>Fortunately, CoffeeScript is intuitive this time.</p>
<pre><code>foo = (bar = []) -&gt; bar.push 'baz'; bar

&gt;&gt;&gt; foo()
[ 'baz' ]
&gt;&gt;&gt; foo()
[ 'baz' ]
&gt;&gt;&gt; foo()
[ 'baz' ]
</code></pre>
<h2 id="scoping-rules"><a class="header-anchor" href="#scoping-rules">§</a>scoping rules</h2>
<p>This is pure stupid. Any reason to back up this design is excuse.</p>
<pre><code>x = 10
def foo():
    x += 1
    print x

&gt;&gt;&gt; foo()
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;&lt;stdin&gt;&quot;, line 2, in foo
UnboundLocalError: local variable 'x' referenced before assignment
</code></pre>
<p>Let’s see what the right way is:</p>
<pre><code>x = 10
foo = -&gt;
  x += 1
  console.log x

&gt;&gt;&gt; foo()
11
</code></pre>
<h2 id="variables-binding-in-closures"><a class="header-anchor" href="#variables-binding-in-closures">§</a>variables binding in closures</h2>
<p>It’s actually one feature; variables are captured “by reference”.</p>
<pre><code>x = [1..4].map (i) -&gt; (x) -&gt; x*i

y = (((x) -&gt; x*i) for i in [1..4])

for f in x
  alert f 1 # expected behavior

for f in y
  alert f 1 # surprising behavior
</code></pre>
<p>As mentioned in the comment to the original post, generator is proposed as one
solution to this problem. To be honest, it seems quite good, syntactically, but
this generator syntax is too similar to list comprehension. It’s a matter of
taste.</p>

    </div>

  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2013 -
    
    2025
    <span class="footer-author">Albert Netymk.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/albertnetymk/hexo-theme-polarbearremix">Polar Bear Remix</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"></script>
    <script type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js">
    </script>
    <script type="text/javascript" src="/js/src/theme.js?v=1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.2"></script>

  </body>
</html>
