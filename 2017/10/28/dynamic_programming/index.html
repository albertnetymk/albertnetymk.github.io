<!DOCTYPE html>
<html lang="default">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Dynamic Programming"/>








  <link rel="alternate" href="/default" title="albertnetymk's notes" >




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=1.2" />



<link rel="canonical" href="https://albertnetymk.github.io/2017/10/28/dynamic_programming/"/>


<meta name="description" content="Dynamic programming is a technique for solving problems recursively, with overlapping sub-problems. This approach works only when the solution to sub-problems share the same structure with the final s">
<meta property="og:type" content="article">
<meta property="og:title" content="Dynamic Programming">
<meta property="og:url" content="https://albertnetymk.github.io/2017/10/28/dynamic_programming/index.html">
<meta property="og:site_name" content="albertnetymk&#39;s notes">
<meta property="og:description" content="Dynamic programming is a technique for solving problems recursively, with overlapping sub-problems. This approach works only when the solution to sub-problems share the same structure with the final s">
<meta property="og:locale">
<meta property="article:published_time" content="2017-10-28T15:04:16.000Z">
<meta property="article:modified_time" content="2020-02-29T10:10:24.582Z">
<meta property="article:author" content="Albert Netymk">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2" />
<link href='https://fonts.googleapis.com/css2?family=Roboto&display=swap' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  


  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "mi8jxzrmvj");
  </script>





    <title> Dynamic Programming - albertnetymk's notes </title>
  <meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">albertnetymk's notes</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/presentations">
                            
                            
                                Presentations
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/courses">
                            
                            
                                Courses
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Dynamic Programming
        
      </h1>

      <time class="post-time">
          Oct 28 2017
      </time>
    </header>

    <div class="post-content">
    <p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Dynamic_programming">Dynamic programming</a> is a technique for solving problems recursively, with overlapping
sub-problems. This approach works only when the solution to sub-problems share the same structure with the final solution. If the prerequisite is
satisfied, the conceptual way of solving the problem is to derive the recursion, and builds up the result bottoms-up. Some examples are listed
below.</p>
<h2 id="Knapsack"><a class="header-anchor" href="#Knapsack">§</a>Knapsack</h2>
<p>Problem spec:</p>
<blockquote>
<p>Given a set of items, each of which is associated with some weight and value. Find the subset of items which can be carried into the knapsack with
weight limit W. It is required that the cumulative value of the items in the knapsack is maximum value possible.</p>
</blockquote>
<p>Sample:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">values = &#123;10, 40, 30, 50&#125;;</span><br><span class="line">weights = &#123;5, 4, 6, 3&#125;;</span><br><span class="line">W = 10</span><br><span class="line">result = 40 + 50 = 90</span><br></pre></td></tr></table></figure>
<p>For analyzing the problem, let’s focus on the last recursion step, i.e. deciding if last item (weight: 3, value: 50) should be selected. In this case,
we only have two options, select it or drop it, corresponding to max value obtained from selecting from the first three items with weight constraint
7, and selecting from the first three items with weight constraint 10.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m[i][j] = max value obtained from selecting up to i-th items with weight contraint j</span><br><span class="line">m[i][j] = max(m[i-1][j-w_i], m[i-1][j] + v_i)</span><br></pre></td></tr></table></figure>
<p>The complete Java code:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">knapsack</span><span class="params">(<span class="type">int</span> W, <span class="type">int</span>[] values, <span class="type">int</span>[] weights)</span> &#123;</span><br><span class="line">    <span class="keyword">assert</span> values.length == weights.length;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// m[i][j] max value up to item i with j weight constraint</span></span><br><span class="line">    <span class="type">int</span>[][] m = <span class="keyword">new</span> <span class="title class_">int</span>[weights.length + <span class="number">1</span>][W + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= weights.length; ++i) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= W; ++j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (weights[i - <span class="number">1</span>] &gt; j) &#123;</span><br><span class="line">          m[i][j] = m[i - <span class="number">1</span>][j];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          m[i][j] = Math.max(</span><br><span class="line">                  m[i - <span class="number">1</span>][j],</span><br><span class="line">                  m[i - <span class="number">1</span>][j - weights[i - <span class="number">1</span>]] + values[i - <span class="number">1</span>]</span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> m[weights.length][W];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test0</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] values = &#123;<span class="number">10</span>, <span class="number">40</span>, <span class="number">30</span>, <span class="number">50</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] weights = &#123;<span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ret</span> <span class="operator">=</span> knapsack(<span class="number">10</span>, values, weights);</span><br><span class="line">    <span class="keyword">assert</span> ret == <span class="number">90</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;Result : &quot;</span> + ret);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] values = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] weights = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ret</span> <span class="operator">=</span> knapsack(<span class="number">10</span>, values, weights);</span><br><span class="line">    <span class="keyword">assert</span> ret == <span class="number">16</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;Result : &quot;</span> + ret);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    test0();</span><br><span class="line">    test1();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Hop"><a class="header-anchor" href="#Hop">§</a>Hop</h2>
<p>Given an array of non-negative integers and a pointer pointing at the zeroth slot of the array. The pointer can only incremented by 4 or 7, and such
process repeats until it goes beyond the bound of the array. Devise a moving strategy so that the sum of all slots the pointer pointed reaches the
maximum. Your solution should calculate this maximum.</p>
<p>Sample:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">array = &#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">result = [0, 4]</span><br><span class="line">sum = array[0] + array[4] = 6</span><br><span class="line"></span><br><span class="line">array = &#123;1, 2, 0, 4, 5, 3, 9, 8&#125;</span><br><span class="line">result = [0, 7]</span><br><span class="line">sum = array[0] + array[7] = 9</span><br></pre></td></tr></table></figure>
<p>The complete Java code:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> List&lt;LinkedList&lt;Integer&gt;&gt; <span class="title function_">loop</span><span class="params">(<span class="type">int</span> max,</span></span><br><span class="line"><span class="params">      List&lt;LinkedList&lt;Integer&gt;&gt; traces)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">use_new</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;LinkedList&lt;Integer&gt;&gt; new_traces = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; traces.size(); ++i) &#123;</span><br><span class="line">      LinkedList&lt;Integer&gt; t = traces.get(i);</span><br><span class="line">      <span class="keyword">if</span> (t.getLast() + <span class="number">4</span> &lt; max) &#123;</span><br><span class="line">        use_new = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (t.getLast() + <span class="number">7</span> &lt; max) &#123;</span><br><span class="line">          LinkedList&lt;Integer&gt; t1 = (LinkedList&lt;Integer&gt;) t.clone();</span><br><span class="line">          t1.add(t.getLast() + <span class="number">7</span>);</span><br><span class="line">          new_traces.add(t1);</span><br><span class="line">        &#125;</span><br><span class="line">        t.add(t.getLast() + <span class="number">4</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      new_traces.add(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (use_new) <span class="keyword">return</span> loop(max, new_traces);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> traces;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">hop_force</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">    <span class="keyword">assert</span> array.length &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;LinkedList&lt;Integer&gt;&gt; traces = loop(array.length,</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;LinkedList&lt;Integer&gt;&gt;(Collections.singletonList(</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(Collections.singletonList(<span class="number">0</span>)))));</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] sums = <span class="keyword">new</span> <span class="title class_">int</span>[traces.size()];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; traces.size(); ++i) &#123;</span><br><span class="line">      LinkedList&lt;Integer&gt; t = traces.get(i);</span><br><span class="line">      <span class="keyword">for</span> (Integer index : t) &#123;</span><br><span class="line">        <span class="keyword">assert</span> index &gt;= <span class="number">0</span> &amp;&amp; index &lt; array.length;</span><br><span class="line">        sums[i] += array[index];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Arrays.stream(sums).max().getAsInt();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">is_valid</span><span class="params">(<span class="type">int</span>[] cost, <span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> index &gt;= <span class="number">0</span> &amp;&amp; cost[index] &gt;= <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">last_max</span><span class="params">(<span class="type">int</span>[] cost)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cost.length &lt;= <span class="number">4</span>) <span class="keyword">return</span> cost[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] last4 = Arrays.copyOfRange(cost, cost.length - <span class="number">4</span>, cost.length);</span><br><span class="line">    <span class="keyword">return</span> Arrays.stream(last4).max().getAsInt();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">hop</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">    <span class="keyword">assert</span> array.length &gt; <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] cost = <span class="keyword">new</span> <span class="title class_">int</span>[array.length];</span><br><span class="line"></span><br><span class="line">    cost[<span class="number">0</span>] = array[<span class="number">0</span>];</span><br><span class="line">    <span class="type">boolean</span> left, right;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; ++i) &#123;</span><br><span class="line">      left = is_valid(cost, i - <span class="number">4</span>);</span><br><span class="line">      right = is_valid(cost, i - <span class="number">7</span>);</span><br><span class="line">      <span class="keyword">if</span> (!left &amp;&amp; !right) &#123;</span><br><span class="line">        cost[i] = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (left &amp;&amp; right) &#123;</span><br><span class="line">        cost[i] = array[i] + Math.max(cost[i - <span class="number">4</span>], cost[i - <span class="number">7</span>]);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (left) &#123;</span><br><span class="line">        cost[i] = array[i] + cost[i - <span class="number">4</span>];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cost[i] = array[i] + cost[i - <span class="number">7</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> last_max(cost);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">eq</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (x != y) &#123;</span><br><span class="line">      System.exit(-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">rand_test</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">    <span class="type">Random</span> <span class="variable">rand</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">      array[i] = rand.nextInt(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">mine</span> <span class="operator">=</span> hop(array);</span><br><span class="line">    <span class="type">int</span> <span class="variable">correct</span> <span class="operator">=</span> hop_force(array);</span><br><span class="line"></span><br><span class="line">    eq(mine, correct);</span><br><span class="line">    System.out.println(<span class="string">&quot;Result : &quot;</span> + mine);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test0</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] array = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mine</span> <span class="operator">=</span> hop(array);</span><br><span class="line">    <span class="type">int</span> <span class="variable">correct</span> <span class="operator">=</span> hop_force(array);</span><br><span class="line"></span><br><span class="line">    eq(mine, correct);</span><br><span class="line">    System.out.println(<span class="string">&quot;Result : &quot;</span> + mine);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] array = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mine</span> <span class="operator">=</span> hop(array);</span><br><span class="line">    <span class="type">int</span> <span class="variable">correct</span> <span class="operator">=</span> hop_force(array);</span><br><span class="line"></span><br><span class="line">    eq(mine, correct);</span><br><span class="line">    System.out.println(<span class="string">&quot;Result : &quot;</span> + mine);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// test0();</span></span><br><span class="line">    <span class="comment">// test1();</span></span><br><span class="line">    rand_test(<span class="number">120</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;Done&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Counting-change"><a class="header-anchor" href="#Counting-change">§</a>Counting change</h2>
<p>How many different ways can we make change of $1.00, given half-dollars, quarters, dimes, nickels, and pennies?  More generally, can we write a
procedure to compute the number of ways to change any given amount of money?</p>
<p>The scheme code from <a target="_blank" rel="noopener" href="http://xuanji.appspot.com/isicp/1-2-procedures.html">http://xuanji.appspot.com/isicp/1-2-procedures.html</a></p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">count-change</span> amount)</span><br><span class="line">  (<span class="name">cc</span> amount <span class="number">5</span>))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">cc</span> amount kinds-of-coins)</span><br><span class="line">  (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">=</span></span> amount <span class="number">0</span>) <span class="number">1</span>)</span><br><span class="line">        ((<span class="name"><span class="built_in">or</span></span> (<span class="name"><span class="built_in">&lt;</span></span> amount <span class="number">0</span>) (<span class="name"><span class="built_in">=</span></span> kinds-of-coins <span class="number">0</span>)) <span class="number">0</span>)</span><br><span class="line">        (<span class="name"><span class="built_in">else</span></span> (<span class="name"><span class="built_in">+</span></span> (<span class="name">cc</span> amount</span><br><span class="line">                     (<span class="name"><span class="built_in">-</span></span> kinds-of-coins <span class="number">1</span>))</span><br><span class="line">                 (<span class="name">cc</span> (<span class="name"><span class="built_in">-</span></span> amount</span><br><span class="line">                        (<span class="name">first-denomination</span> kinds-of-coins))</span><br><span class="line">                     kinds-of-coins)))))</span><br><span class="line">(<span class="name"><span class="built_in">define</span></span> (<span class="name">first-denomination</span> kinds-of-coins)</span><br><span class="line">  (<span class="name"><span class="built_in">cond</span></span> ((<span class="name"><span class="built_in">=</span></span> kinds-of-coins <span class="number">1</span>) <span class="number">1</span>)</span><br><span class="line">        ((<span class="name"><span class="built_in">=</span></span> kinds-of-coins <span class="number">2</span>) <span class="number">5</span>)</span><br><span class="line">        ((<span class="name"><span class="built_in">=</span></span> kinds-of-coins <span class="number">3</span>) <span class="number">10</span>)</span><br><span class="line">        ((<span class="name"><span class="built_in">=</span></span> kinds-of-coins <span class="number">4</span>) <span class="number">25</span>)</span><br><span class="line">        ((<span class="name"><span class="built_in">=</span></span> kinds-of-coins <span class="number">5</span>) <span class="number">50</span>)))</span><br></pre></td></tr></table></figure>
<p>My solution using DP in Java. <code>dp[i][j]</code> means that using coins up to <code>coin_kinds[j]</code>, how many ways there are for exchanging <code>i</code> amount of money.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">count_coin</span><span class="params">(<span class="type">int</span> amount)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] coins = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">50</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">coin_kinds</span> <span class="operator">=</span> coins.length;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[amount + <span class="number">1</span>][coin_kinds];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;coin_kinds; ++j) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;amount+<span class="number">1</span>; ++i) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;amount+<span class="number">1</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">1</span>; j&lt;coin_kinds; ++j) &#123;</span><br><span class="line">                <span class="type">var</span> <span class="variable">coin_value</span> <span class="operator">=</span> coins[j];</span><br><span class="line">                <span class="keyword">if</span> (i &lt; coin_value) &#123;</span><br><span class="line">                    dp[i][j] = dp[i][j-<span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = dp[i - coin_value][j] + dp[i][j - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[amount][coin_kinds-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(count_coin(<span class="number">100</span>)); <span class="comment">// 292</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2013 -
    
    2025
    <span class="footer-author">Albert Netymk.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/albertnetymk/hexo-theme-polarbearremix">Polar Bear Remix</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"></script>
    <script type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js">
    </script>
    <script type="text/javascript" src="/js/src/theme.js?v=1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.2"></script>

  </body>
</html>
